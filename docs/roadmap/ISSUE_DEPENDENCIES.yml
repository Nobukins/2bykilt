### ISSUE_DEPENDENCIES.yml
### Canonical machine-readable dependency graph

issues:
  "25": {title: "git_script が llms.txt で指定したスクリプトを正しく解決するよう修正", meta: {area: runner, type: bug, priority: P0, phase: "1", stability: core}, depends: [], dependents: ["44", "45", "49", "50"], progress: {state: done, primary_pr: 118}, risk: null, critical_path_rank: 3}
  "28": 
    title: "録画ファイル保存パス統一"
    meta: 
      area: artifacts
      type: bug
      priority: P0
      phase: "1"
      stability: core
    depends: ["32"]
    dependents: ["30"]
    risk: null
    progress: 
      state: done
      primary_pr: 112
    critical_path_rank: 4
  "30": 
    title: "録画タイプ間不整合是正"
    meta: 
      area: artifacts
      type: bug
      priority: P0
      phase: "1"
      stability: core
    depends: ["28"]
    dependents: ["37", "38"]
    risk: null
    progress: 
      state: done
      primary_pr: 112
    critical_path_rank: 3
  "31": 
    title: "統一ログ設計 (JSON Lines)"
    meta: 
      area: logging
      type: feat
      priority: P0
      phase: "1"
      stability: core
    depends: ["32"]
    dependents: ["56"]
    risk: high
    progress: 
      state: done
      primary_pr: 80
    critical_path_rank: 3
  "32": 
    title: "Run/Job ID 基盤"
    meta: 
      area: runner
      type: feat
      priority: P0
      phase: "1"
      stability: core
    depends: []
    dependents: ["28", "31", "33", "35", "46", "54", "56", "58", "39", "62"]
    progress: 
      state: done
      primary_pr: 79
    risk: null
    critical_path_rank: 5
  "33": 
    title: "スクリーンショット取得ユーティリティ"
    meta: 
      area: artifacts
      type: feat
      priority: P0
      phase: "1"
      stability: core
    depends: ["32"]
    dependents: ["38", "34", "76"]
    risk: null
    critical_path_rank: 2
  "34": 
    title: "要素値キャプチャ & エクスポート"
    meta: 
      area: artifacts
      type: feat
      priority: P1
      phase: "1"
      stability: core
    depends: ["33", "35"]
    dependents: []
    risk: null
    progress: 
      state: done
      primary_pr: 93
    critical_path_rank: 1
  "35": 
    title: "アーティファクト manifest v2"
    meta: 
      area: artifacts
      type: feat
      priority: P0
      phase: "1"
      stability: core
    depends: ["32"]
    dependents: ["34", "36", "38"]
    risk: null
    progress: 
      state: done
      primary_pr: 94
    critical_path_rank: 3
  "36": 
    title: "アーティファクト一覧 API"
    meta: 
      area: artifacts
      type: feat
      priority: P1
      phase: "1"
      stability: core
    depends: ["35"]
    dependents: ["38"]
    risk: null
    progress: 
      state: done
      primary_pr: 95
    critical_path_rank: 2
  "37": 
    title: "動画アーティファクト保持期間"
    meta: 
      area: artifacts
      type: feat
      priority: P1
      phase: "1"
      stability: core
    depends: ["30"]
    dependents: ["38"]
    risk: null
    progress: 
      state: done
      primary_pr: 99
    critical_path_rank: 2
  "38": 
    title: "録画統一後回帰テストスイート"
    meta: 
      area: artifacts
      type: feat
      priority: P2
      phase: "1-late"
      stability: core
    depends: ["30", "33", "35", "36", "37"]
    dependents: []
    risk: null
    progress: 
      state: done
      primary_pr: 103
    critical_path_rank: 1
  "39": 
    title: "CSV 駆動バッチエンジンコア"
    meta: 
      area: batch
      type: feat
      priority: P1
      phase: "2"
      stability: experimental
    depends: ["32"]
    dependents: ["40", "41", "42", "198"]
    risk: null
    progress: 
      state: done
      primary_pr: 164
    critical_path_rank: 2
  "40": 
    title: "CSV D&D UI 連携"
    meta: 
      area: batch
      type: feat
      priority: P2
      phase: "2"
      stability: experimental
    depends: ["39"]
    dependents: []
    risk: null
    progress: 
      state: done
      primary_pr: 172
    critical_path_rank: 1
  "41": 
    title: "バッチ進捗・サマリー"
    meta: 
      area: batch
      type: feat
      priority: P2
      phase: "2"
      stability: experimental
    depends: ["39", "56"]
    dependents: []
    risk: null
    progress: 
      state: done
      primary_pr: 162
    critical_path_rank: 1
  "42": 
    title: "バッチ部分リトライ"
    meta: 
      area: batch
      type: feat
      priority: P2
      phase: "2"
      stability: experimental
    depends: ["39"]
    dependents: []
    risk: null
    progress: 
      state: done
      primary_pr: 163
    critical_path_rank: 1
  "43": {title: "ENABLE_LLM パリティ", meta: {area: runner, type: feat, priority: P1,
      phase: "1-late", stability: core}, depends: ["64", "65"], dependents: [], 
      risk: null, critical_path_rank: 1}
  "44": {title: "git_script 解決ロジック不具合修正", meta: {area: runner, type: bug, 
        priority: P0, phase: "1", stability: core}, depends: ["25"], dependents: [
      "45"], risk: null, progress: {state: done, primary_pr: 120}, critical_path_rank: 2}
  "45": {title: "git_script 認証 & プロキシ", meta: {area: runner, type: feat, 
        priority: P1, phase: "1", stability: core}, depends: ["25", "44"], 
      dependents: [], risk: null, progress: {state: done, primary_pr: 120}, critical_path_rank: 1}
  "46": {title: "Run/Job タイムアウト & キャンセル", meta: {area: runner, type: feat, 
        priority: P2, phase: "2", stability: core}, depends: ["32"], dependents: [
      "47"], risk: high, critical_path_rank: 3}
  "47": {title: "並列実行キュー & 制限", meta: {area: runner, type: feat, priority: P2, 
        phase: "2", stability: core}, depends: ["46"], dependents: ["51"], risk: 
      null, critical_path_rank: 2}
  "48": {title: "環境変数バリデーション & 診断", meta: {area: runner, type: feat, priority: 
        P2, phase: "2", stability: core}, depends: ["65"], dependents: [], risk: 
      null, critical_path_rank: 1}
  "49": {title: "ユーザースクリプト プラグインアーキテクチャ", meta: {area: plugins, type: feat, 
        priority: P3, phase: "2", stability: experimental}, depends: ["64", "25"],
    dependents: [], risk: high, critical_path_rank: 1}
  "50": {title: "ディレクトリ名変更 & 移行", meta: {area: runner, type: chore, priority: P1,
        phase: "1", stability: core}, depends: ["25"], dependents: ["200"], risk: null, 
    progress: {state: in-progress}, critical_path_rank: 1}
  "51": {title: "Windows プロファイル永続化", meta: {area: runner, type: feat, priority: 
        P2, phase: "2", stability: core}, depends: ["47"], dependents: [], risk: 
      null, critical_path_rank: 1}
  "52": {title: "サンドボックス allow/deny パス", meta: {area: runner, type: feat, 
        priority: P2, phase: "2", stability: experimental}, depends: ["62"], 
      dependents: [], risk: null, critical_path_rank: 1}
  "53": {title: "cdp-use 追加タイプ調査", meta: {area: runner, type: spike, priority: 
        P2, phase: "2", stability: experimental}, depends: [], dependents: ["54"],
    risk: null, critical_path_rank: 2}
  "54": {title: "cdp-use デュアルエンジン抽象レイヤ", meta: {area: runner, type: feat, 
        priority: P1, phase: "2", stability: experimental}, depends: ["32", "53"],
    dependents: [], risk: high, critical_path_rank: 1}
  "55": {title: "browser_control pytest パス修正", meta: {area: runner, type: bug, 
        priority: P0, phase: "1", stability: core}, depends: [], dependents: [], 
      risk: null, critical_path_rank: 1}
  "56": {title: "統一 JSON Lines ロギング実装", meta: {area: logging, type: feat, 
        priority: P0, phase: "1", stability: core}, depends: ["31", "32"], 
      dependents: ["57", "60", "41"], progress: {state: done, primary_pr: 83}, 
      risk: null, critical_path_rank: 2}
  "57": {title: "ログ保持期間 & ローテーション", meta: {area: logging, type: feat, priority: 
        P1, phase: "1-late", stability: core}, depends: ["56"], dependents: [], 
      progress: {state: done, primary_pr: 83}, risk: null, critical_path_rank: 1}
  "58": {title: "メトリクス計測基盤", meta: {area: observability, type: feat, priority: 
        P1, phase: "2", stability: core}, depends: ["32"], dependents: ["59"], 
      risk: null, progress: {state: done, primary_pr: 155}, critical_path_rank: 2}
  "59": {title: "Run メトリクス API", meta: {area: observability, type: feat, 
        priority: P2, phase: "2", stability: core}, depends: ["58"], dependents: [],
    progress: {state: done, primary_pr: 185}, risk: null, critical_path_rank: 1}
  "102": {title: "Flags artifacts helper", meta: {area: config, type: chore, priority: P2, phase: "2", stability: core}, depends: ["64"], dependents: [], progress: {state: in-progress}, risk: null, critical_path_rank: 1}
  "60": {title: "シークレットマスキング拡張", meta: {area: security, type: feat, priority: P1,
      phase: "1-late", stability: core}, depends: ["56"], dependents: [], risk: 
      null, critical_path_rank: 1}
  "61": {title: "[maint][security] 既存依存セキュリティスキャン基盤の最適化 & 運用強化", meta: {area: security, type: chore, priority: 
        P1, phase: "2", stability: core}, depends: ["32"], dependents: [], risk: 
      medium, critical_path_rank: 1}
  "62": {title: "実行サンドボックス機能制限", meta: {area: security, type: feat, priority: P0,
      phase: "2", stability: experimental}, depends: ["32"], dependents: ["52"], 
      risk: high, critical_path_rank: 2}
  "63": {title: "llms.txt スキーマ & バリデータ", meta: {area: config, type: feat, 
        priority: P0, phase: "1-late", stability: core}, depends: ["64", "65"], 
      dependents: ["66"], risk: null, critical_path_rank: 3}
  "64": {title: "フィーチャーフラグフレームワーク", meta: {area: config, type: feat, priority: 
        P0, phase: "1", stability: core}, depends: ["65"], dependents: ["63", "43",
      "49"], risk: null, critical_path_rank: 4}
  "65": {title: "マルチ環境設定ローダ", meta: {area: config, type: feat, priority: P0, 
        phase: "1", stability: core}, depends: [], dependents: ["64", "63", "43",
      "48"], risk: null, critical_path_rank: 5}
  "66": {title: "ドキュメント整備 第1弾", meta: {area: docs, type: docs, priority: P2, 
        phase: "1-late", stability: core}, depends: ["63"], dependents: ["67"], 
      risk: null, critical_path_rank: 2}
  "67": {title: "ドキュメント整備 第2弾", meta: {area: docs, type: docs, priority: P2, 
        phase: "1-late", stability: core}, depends: ["66"], dependents: [], risk: 
      null, critical_path_rank: 1}
  "76": {title: "依存更新自動化パイプライン (PR 起票時の ISSUE_DEPENDENCIES.yml 自動更新)", meta: {
        area: automation, type: feat, priority: P1, phase: "1-late", stability: 
        core}, depends: ["33"], dependents: [], risk: null, critical_path_rank: 
      2}
  "81": {title: "Async/Browser テスト安定化計画", meta: {area: runner, type: stability, 
        priority: P1, phase: "1", stability: core}, depends: [], dependents: [], 
      risk: null, critical_path_rank: 2}
  "87": {title: "スクリーンショット重複保存フラグ導入", meta: {area: artifacts, type: feat, 
        priority: P1, phase: "1-late", stability: core}, depends: ["33", "35"], 
      dependents: ["83"], progress: {state: done, primary_pr: 96}, risk: null, critical_path_rank: 1}
  "88": {title: "スクリーンショット例外分類と特定例外キャッチ", meta: {area: artifacts, type: feat, 
        priority: P2, phase: "1-late", stability: core}, depends: ["33", "35"], 
      dependents: [], risk: null, progress: {state: done, primary_pr: 97}, critical_path_rank: 1} # Adjusted depends: removed invalid 82 -> aligns with screenshot/manifest prerequisites
  "89": {title: "Screenshot ログイベント整備 (metrics 連携準備)", meta: {area: observability, type: chore, priority: P2, phase: "1-late", stability: core}, depends: ["33", "58"], dependents: [], risk: null, progress: {state: done, primary_pr: 98}, critical_path_rank: 1}
  "90": 
    title: "Temp test issue for enrichment"
    meta: 
      area: test
      type: test
      priority: P2
      phase: "2"
      stability: experimental
    risk: null
    depends: []
    dependents: []
  "91": {title: "統一録画パス Rollout (flag default 有効化 & legacy 廃止)", meta: {area: artifacts, type: chore, priority: P0, phase: "1-late", stability: core}, depends: ["28"], dependents: [], progress: {state: done, primary_pr: 105}, risk: null, critical_path_rank: 1}
  "173": {title: "[UI][batch][#40 follow-up] CSV Preview & Command Argument Mapping", meta: {area: batch, type: feat, priority: P2, phase: "2", stability: experimental}, depends: ["39", "40", "41", "42"], dependents: [], risk: null, critical_path_rank: 1}
  "174": {title: "[artifacts][batch] Clarify Artifact Output & Access Flow", meta: {area: artifacts, type: docs, priority: P3, phase: "2", stability: core}, depends: ["28", "30", "33", "35", "39"], dependents: [], risk: low, critical_path_rank: 1}
  "154": {title: "pip-audit stabilization in CI with normalizer + targeted suppressions", meta: {area: security, type: fix, priority: P1, phase: "1", stability: core}, depends: [], dependents: [], risk: null, progress: {state: done, primary_pr: 160}, critical_path_rank: 1}
  "175": {title: "バッチ行単位成果物キャプチャ基盤 (スクリーンショット/要素値/ログ関連紐付け)", meta: {area: artifacts, type: feat, priority: P1, phase: "2", stability: experimental}, depends: ["39", "40", "41", "42", "33", "35"], dependents: ["176"], risk: medium, progress: {state: done, primary_pr: 181}, critical_path_rank: 2}
  "176": {title: "宣言的抽出スキーマ (CSV列→コマンド引数/抽出ポリシーマッピング)", meta: {area: batch, type: feat, priority: P1, phase: "2", stability: experimental}, depends: ["175", "39", "40"], dependents: [], risk: high, progress: {state: done, primary_pr: 181}, critical_path_rank: 2}
  "177": {title: "MVP エンタープライズ Readiness マトリクス定義", meta: {area: docs, type: docs, priority: P1, phase: "2", stability: core}, depends: ["60", "58", "35", "39", "43"], dependents: [], risk: null, progress: {state: done, primary_pr: 189}, critical_path_rank: 1}
  "178": {title: "CI: dependency-pipeline workflow 追加 (生成物 idempotent 検証自動化)", meta: {area: automation, type: chore, priority: P2, phase: "2", stability: core}, depends: ["76"], dependents: [], risk: low, critical_path_rank: 1}
  "111": {title: "録画/パス統合", meta: {area: artifacts, type: feat, priority: P0, phase: "2", stability: core}, depends: ["28"], dependents: ["110"], progress: {state: done, primary_pr: 188}, risk: null, critical_path_rank: 3}
  "110": {title: "browser-control gap fix", meta: {area: runner, type: bug, priority: P0, phase: "2", stability: core}, depends: ["111"], dependents: ["106"], progress: {state: done, primary_pr: 188}, risk: null, critical_path_rank: 3}

  "196": {title: "CI: local selector smoke を統合", meta: {area: automation, type: chore, priority: P2, phase: "2", stability: core}, depends: ["201"], dependents: ["202"], risk: low, progress: {state: done, primary_pr: 213}, critical_path_rank: 1}
  "198": {title: "[batch] CSV NamedString 入力の正規化", meta: {area: batch, type: bug, priority: P1, phase: "2", stability: experimental}, depends: ["39"], dependents: [], risk: medium, progress: {state: planned}, critical_path_rank: 1}
  "199": {title: "[ui/ux] Internationalization (i18n): JA base → EN 追加", meta: {area: uiux, type: feat, priority: P2, phase: "2", stability: core}, depends: [], dependents: [], risk: low, progress: {state: planned}, critical_path_rank: 1}
  "200": {title: "[policy] myscript 配置規約の策定", meta: {area: docs, type: docs, priority: P2, phase: "2", stability: core}, depends: ["50"], dependents: ["201", "203"], risk: low, progress: {state: in-progress}, critical_path_rank: 1}
  "201": {title: "[runner] myscript スクリプト修正（パス統一・生成物出力）", meta: {area: runner, type: chore, priority: P2, phase: "2", stability: core}, depends: ["200"], dependents: ["196", "202", "203"], risk: low, progress: {state: done, primary_pr: 213}, critical_path_rank: 1}
  "202": {title: "[ci] アーティファクト収集/キャッシュ更新（myscript 構成対応）", meta: {area: automation, type: chore, priority: P2, phase: "2", stability: core}, depends: ["201", "196"], dependents: ["203"], risk: low, progress: {state: done, primary_pr: 214}, critical_path_rank: 1}
  "203": {title: "[docs] README/チュートリアル/ガイド更新（myscript 構成・出力ポリシー）", meta: {area: docs, type: docs, priority: P2, phase: "2", stability: core}, depends: ["200", "201", "202"], dependents: [], risk: low, progress: {state: planned}, critical_path_rank: 1}
  "208": {title: "[ui/ux] Option Availability - 利用可能なオプションの可視化改善", meta: {area: uiux, type: enhancement, priority: P2, phase: "2", stability: core}, depends: ["199"], dependents: [], risk: low, progress: {state: open}, critical_path_rank: 1}
  "209": {title: "[ui/ux] Results menu - 実行結果表示メニューの改善", meta: {area: uiux, type: enhancement, priority: P2, phase: "2", stability: core}, depends: ["199"], dependents: [], risk: low, progress: {state: open}, critical_path_rank: 1}
  "210": {title: "[ui/ux] Recordings menu - 録画ファイル管理メニューの改善", meta: {area: uiux, type: enhancement, priority: P2, phase: "2", stability: core}, depends: ["199"], dependents: [], risk: low, progress: {state: open}, critical_path_rank: 1}
  "211": {title: "[docs] LLM 統合ドキュメント整備", meta: {area: docs, type: docs, priority: P1, phase: "2", stability: core}, depends: ["43"], dependents: [], risk: low, progress: {state: open}, critical_path_rank: 1}
  "212": {title: "[feat] Playwright Codegen 統合機能", meta: {area: runner, type: feat, priority: P1, phase: "2", stability: experimental}, depends: ["64"], dependents: [], risk: medium, progress: {state: open}, critical_path_rank: 1}

  "219": {title: "[runner][bug] search-linkedin 初期コマンド失敗 (pytest経由引数未解釈)", meta: {area: runner, type: bug, priority: P0, phase: "2", stability: core}, depends: ["200", "201"], dependents: ["220", "221"], risk: null, progress: {state: open}, critical_path_rank: 5}
  "220": {title: "[runner][bug] browser-control タイプ実行失敗の調査と修正", meta: {area: runner, type: bug, priority: P1, phase: "2", stability: core}, depends: ["219"], dependents: ["221"], risk: null, progress: {state: open}, critical_path_rank: 4}
  "221": {title: "[artifacts][bug] script 以外で録画ファイル未生成 (browser-control/git-script)", meta: {area: artifacts, type: bug, priority: P1, phase: "2", stability: core}, depends: ["219", "220"], dependents: ["224"], risk: null, progress: {state: open}, critical_path_rank: 3}
  "222": {title: "[logging][feat] ログ出力ディレクトリ/カテゴリ標準化 & src/logs/ 廃止", meta: {area: logging, type: feat, priority: P1, phase: "2", stability: core}, depends: ["56", "57"], dependents: ["223"], risk: null, progress: {state: open}, critical_path_rank: 2}
  "223": {title: "[logging][bug] LOG_LEVEL 環境変数が反映されない (初期化順序バグ)", meta: {area: logging, type: bug, priority: P0, phase: "2", stability: core}, depends: ["222"], dependents: [], risk: null, progress: {state: open}, critical_path_rank: 1}
  "224": {title: "[ui/ux][config] RECORDING_PATH UI と環境変数の競合解消", meta: {area: uiux, type: enhancement, priority: P1, phase: "2", stability: core}, depends: ["221"], dependents: [], risk: null, progress: {state: open}, critical_path_rank: 1}

summary:
  total_issues: 75
  high_risk: ["31", "46", "49", "54", "62", "176"]
  longest_chain_example: ["65", "64", "63", "66", "67"]
  data_quality_checks:
    no_cycles_detected: true
    orphan_issues_without_dependents_or_depends:
      - "55"
      - "81"
      - "90"
      - "154"
      - "199"
      - "208"
      - "209"
      - "210"
      - "211"
      - "212"
  generated_at_utc: "2025-09-16T14:09:31Z"

validation_rules:
  - "All blocking dependencies must be completed before starting an issue"
  - "Test coverage must be >= 80% for completed issues"
  - "Documentation must be updated for all changes"
  - "LLM parity must be maintained across enable/disable states"

automated_checks:
  - name: "dependency_validation"
    description: "Validate all dependencies are completed"
    command: "python scripts/validate_dependencies.py"
    frequency: "on_issue_start"
  - name: "llm_parity_test"
    description: "Run LLM parity test suite"
    command: "pytest tests/runner/llm_parity.py -v"
    frequency: "on_llm_changes"
  - name: "manifest_validation"
    description: "Validate manifest.json integrity"
    command: "python scripts/validate_manifest.py"
    frequency: "daily"
